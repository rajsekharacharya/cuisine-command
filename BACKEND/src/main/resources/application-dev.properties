# ===========================
# MySQL Database Configuration
# ===========================
spring.datasource.url=jdbc:mysql://localhost:3306/resturent?createDatabaseIfNotExist=true
spring.datasource.username=root
spring.datasource.password=root

# ===========================
# Hibernate Configuration
# ===========================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true
spring.jpa.open-in-view=false
spring.jpa.show-sql=false
spring.jpa.generate-ddl=false

# ===========================
# Logging Configuration
# ===========================

# Root logging level
logging.level.root=INFO

# Package-specific logging levels
logging.level.com.app.restaurant=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG

# Console log pattern
# logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# Log file configuration
logging.file.name=logs/restaurant.log

# Log rotation policies
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.max-history=30

# ===========================
# Spring Actuator Configuration
# ===========================
management.endpoints.web.base-path=/rest/actuator
management.endpoints.web.exposure.include=*

# ===========================
# SpringDoc / Swagger Configuration
# ===========================

springdoc.api-docs.version=OPENAPI_3_1
springdoc.swagger-ui.display-request-duration=true
springdoc.swagger-ui.groups-order=ASC
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.disable-swagger-default-url=true

# Swagger UI at root path
springdoc.swagger-ui.use-root-path=true

# Include actuator endpoints in OpenAPI docs?
springdoc.show-actuator=false

# Grouping APIs for better organization in Swagger UI
springdoc.group-configs[0].group=Authentication
springdoc.group-configs[0].paths-to-match=/auth/**

springdoc.group-configs[1].group=Admin
springdoc.group-configs[1].paths-to-match=/api/admin/**

springdoc.group-configs[2].group=Master
springdoc.group-configs[2].paths-to-match=/api/master/**

springdoc.group-configs[3].group=Pos
springdoc.group-configs[3].paths-to-match=/api/pos/**

# Disable OpenAPI cache to reflect changes immediately (useful during development)
springdoc.cache.disabled=true

# Swagger UI and OpenAPI endpoints
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/v3/api-docs
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
